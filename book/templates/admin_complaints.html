{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto my-10 p-8 bg-white shadow-md rounded-lg">
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-6">Customer Complaints</h2>

    <ul class="divide-y divide-gray-200">
        {% for complaint in complaints %}
        <li class="py-4 px-6 hover:bg-gray-100 transition ease-in-out duration-200">
            <div class="flex justify-between">
                <p>{{ complaint.subject }} - {{ complaint.customer_name }}</p>
                <a href="{{ url_for('booking_system.respond_complaint', complaint_id=complaint.id) }}" class="text-indigo-600 hover:text-indigo-900">Respond</a>
            </div>
            <p class="text-sm text-gray-500">{{ complaint.message[:100] }}...</p>
            <p class="text-xs text-gray-400">{{ complaint.timestamp.strftime('%b %d, %Y %I:%M %p') }}</p>
        </li>
        {% else %}
        <li class="py-4 px-6 text-center text-gray-500">No pending complaints.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
